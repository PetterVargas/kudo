---
title: Proceso de Control de Versiones
description: Lineamientos para la gesti√≥n de versiones del software.
---

## üìã Informaci√≥n General

**Documento:** Proceso de Control de Versiones  
**Versi√≥n:** 1.0.0  
**Fecha:** Enero 2025  
**Clasificaci√≥n:** Confidencial  
**Audiencia:** Desarrolladores, DevOps Engineers, Arquitectos de Software, QA Team, Project Managers

## üéØ Prop√≥sito

Establecer los lineamientos para la gesti√≥n, control y seguimiento de versiones de c√≥digo fuente, documentaci√≥n y artefactos de software en DivisionCero, garantizando la integridad, trazabilidad y colaboraci√≥n efectiva en el desarrollo de aplicaciones y sistemas.

## üè¢ Alcance

Esta pol√≠tica aplica a:
- Todo el c√≥digo fuente de aplicaciones desarrolladas internamente
- Scripts de automatizaci√≥n e Infrastructure as Code
- Documentaci√≥n t√©cnica y de arquitectura
- Configuraciones de sistemas y aplicaciones
- Schemas de bases de datos y migraciones
- Assets de frontend (CSS, JavaScript, im√°genes)
- Artefactos de CI/CD y deployment

## üìö Definiciones

- **Control de Versiones:** Sistema que registra cambios en archivos a lo largo del tiempo
- **Repository (Repo):** Espacio centralizado donde se almacena y gestiona el c√≥digo
- **Branch:** L√≠nea de desarrollo independiente que permite trabajo paralelo
- **Commit:** Snapshot de cambios con mensaje descriptivo y metadata
- **Merge:** Proceso de integrar cambios de una branch a otra
- **Tag:** Marca que identifica un punto espec√≠fico en la historia del repositorio

## üõ°Ô∏è Pol√≠tica

### Sistemas de Control de Versiones Aprobados

#### Sistema Principal: Git
**Plataformas Autorizadas:**
- **GitHub Enterprise** (repositorios privados corporativos)
- **GitLab** (instancia self-hosted para proyectos cr√≠ticos)
- **Azure DevOps** (integraci√≥n con ecosistema Microsoft)

**Caracter√≠sticas Requeridas:**
- Autenticaci√≥n multifactor obligatoria
- Integraci√≥n con Active Directory corporativo
- Logs de auditor√≠a completos
- Capacidades de backup y disaster recovery

#### Sistemas Complementarios
**Subversion (SVN):** Solo para proyectos legacy en proceso de migraci√≥n
**Perforce:** Para assets binarios grandes (dise√±o, multimedia)

### Estructura de Repositorios

#### Clasificaci√≥n por Criticidad
**Repositorios Cr√≠ticos:**
- Aplicaciones de producci√≥n con datos de clientes
- APIs y servicios core de negocio
- Infrastructure as Code para entornos productivos
- Sistemas de seguridad y monitoreo

**Repositorios Est√°ndar:**
- Aplicaciones internas y herramientas
- Scripts de automatizaci√≥n no cr√≠ticos
- Proyectos de investigaci√≥n y desarrollo
- Documentaci√≥n y wikis

#### Nomenclatura Est√°ndar
**Formato de Nombres:**
```
[tipo]-[proyecto]-[componente]
Ejemplos:
- app-customer-portal
- api-payment-service
- infra-production-terraform
- docs-security-policies
```

**Tipos Permitidos:**
- `app`: Aplicaciones web y m√≥viles
- `api`: APIs y microservicios
- `lib`: Librer√≠as y componentes reutilizables
- `infra`: Infrastructure as Code
- `docs`: Documentaci√≥n t√©cnica
- `tools`: Herramientas y scripts internos

### Estrategia de Branching

#### GitFlow para Proyectos Cr√≠ticos
**Branches Principales:**
- **main/master:** C√≥digo de producci√≥n, siempre estable
- **develop:** Integraci√≥n de nuevas funcionalidades
- **release/x.y.z:** Preparaci√≥n de releases espec√≠ficos
- **hotfix/descripcion:** Correcciones urgentes a producci√≥n

**Branches de Trabajo:**
- **feature/TICKET-descripcion:** Nuevas funcionalidades
- **bugfix/TICKET-descripcion:** Correcci√≥n de bugs
- **chore/descripcion:** Tareas de mantenimiento

#### GitHub Flow para Proyectos √Ågiles
**Estructura Simplificada:**
- **main:** Branch principal, siempre deployable
- **feature/descripcion:** Branches de trabajo temporal
- Integraci√≥n directa v√≠a Pull Requests

### Convenciones de Commits

#### Formato Est√°ndar de Mensajes
**Estructura Obligatoria:**
```
<tipo>(<scope>): <descripci√≥n breve>

<descripci√≥n detallada opcional>

<footer opcional con referencias a tickets>
```

**Tipos de Commit:**
- `feat`: Nueva funcionalidad
- `fix`: Correcci√≥n de bug
- `docs`: Cambios en documentaci√≥n
- `style`: Cambios de formato sin afectar l√≥gica
- `refactor`: Refactorizaci√≥n de c√≥digo
- `test`: Adici√≥n o modificaci√≥n de tests
- `chore`: Tareas de mantenimiento

**Ejemplos V√°lidos:**
```
feat(auth): add two-factor authentication support

Implement TOTP-based 2FA for user accounts with backup codes
and recovery options. Includes unit tests and documentation.

Closes #AUTH-123, #AUTH-124
```

```
fix(payment): resolve timeout issue in credit card processing

Increase timeout from 30s to 60s and add retry logic for
temporary payment gateway failures.

Fixes #PAY-456
```

#### Reglas de Calidad
**Validaciones Autom√°ticas:**
- Mensaje no puede estar vac√≠o
- Primera l√≠nea m√°ximo 72 caracteres
- Tipo debe ser uno de los permitidos
- Debe referenciar ticket cuando aplique

### Gesti√≥n de Branches

#### Protecci√≥n de Branches Cr√≠ticas
**Branch Protection Rules para main/master:**
- Require pull request reviews (m√≠nimo 2 aprobaciones)
- Dismiss stale reviews when new commits are pushed
- Require status checks to pass (CI/CD, tests, security scans)
- Require branches to be up to date before merging
- Restrict pushes that create new commits

**Revisores Obligatorios:**
- Al menos un Senior Developer o Tech Lead
- Code owner del √°rea afectada (CODEOWNERS file)
- Security review para cambios en autenticaci√≥n/autorizaci√≥n

#### Proceso de Pull Requests
**Checklist de PR (template obligatorio):**
```markdown
## Descripci√≥n
Breve descripci√≥n de los cambios realizados

## Tipo de cambio
- [ ] Bug fix (cambio que corrige un issue)
- [ ] Nueva funcionalidad (cambio que a√±ade funcionalidad)
- [ ] Breaking change (fix o feature que causa cambios incompatibles)
- [ ] Documentaci√≥n (cambios solo en documentaci√≥n)

## Testing
- [ ] Tests unitarios pasan
- [ ] Tests de integraci√≥n pasan
- [ ] Testing manual completado

## Security
- [ ] No introduce vulnerabilidades conocidas
- [ ] Cumple con pol√≠ticas de seguridad
- [ ] Secrets/credentials no est√°n hardcoded

## Checklist
- [ ] C√≥digo sigue convenciones del proyecto
- [ ] Self-review completado
- [ ] Documentaci√≥n actualizada si es necesario
```

### Versionado Sem√°ntico

#### Esquema de Versionado (SemVer)
**Formato: MAJOR.MINOR.PATCH**
- **MAJOR:** Cambios incompatibles en API
- **MINOR:** Nueva funcionalidad compatible hacia atr√°s
- **PATCH:** Bug fixes compatibles hacia atr√°s

**Ejemplos:**
- `1.0.0` ‚Üí `1.0.1` (bug fix)
- `1.0.1` ‚Üí `1.1.0` (nueva funcionalidad)
- `1.1.0` ‚Üí `2.0.0` (breaking changes)

#### Pre-releases y Builds
**Sufijos Permitidos:**
- `alpha`: Versi√≥n muy temprana, no estable
- `beta`: Versi√≥n feature-complete, en testing
- `rc`: Release candidate, casi lista para producci√≥n

**Ejemplos:**
- `2.0.0-alpha.1`
- `2.0.0-beta.3`
- `2.0.0-rc.1`

#### Tagging de Releases
**Convenciones de Tags:**
```bash
# Tags de release
git tag -a v1.2.3 -m "Release version 1.2.3"

# Tags con notas de release
git tag -a v1.2.3 -m "Release 1.2.3

- feat: Add user dashboard
- fix: Resolve login timeout issue
- docs: Update API documentation"
```

### Seguridad en Repositorios

#### Gesti√≥n de Secrets
**Prohibiciones Estrictas:**
- Passwords, API keys, tokens en c√≥digo fuente
- Certificados y llaves privadas
- Strings de conexi√≥n con credenciales
- Informaci√≥n personal identificable (PII)

**Herramientas de Detecci√≥n:**
- GitHub Secret Scanning habilitado
- Pre-commit hooks con detecci√≥n de secrets
- GitLeaks o TruffleHog en CI/CD pipeline
- Alertas autom√°ticas para commits sospechosos

#### Gesti√≥n de Dependencias
**Scanning de Vulnerabilidades:**
- Dependabot o Renovate para actualizaciones autom√°ticas
- Snyk o OWASP Dependency Check en CI/CD
- License compliance checking
- Alertas de seguridad de GitHub habilitadas

**Pol√≠ticas de Dependencias:**
- Solo dependencias de fuentes confiables
- Aprobaci√≥n requerida para nuevas dependencias cr√≠ticas
- Actualizaci√≥n regular de dependencias de seguridad
- Documentaci√≥n de rationale para dependencias espec√≠ficas

### Integraci√≥n con CI/CD

#### Hooks y Automatizaci√≥n
**Pre-commit Hooks:**
- Linting de c√≥digo (ESLint, PyLint, etc.)
- Formateo autom√°tico (Prettier, Black)
- Detecci√≥n de secrets
- Validaci√≥n de mensajes de commit

**Post-commit Actions:**
- Ejecuci√≥n autom√°tica de tests
- Build y empaquetado de artefactos
- Security scanning (SAST/DAST)
- Deployment autom√°tico a entornos de testing

#### Pipeline de Calidad
**Checks Obligatorios:**
```yaml
# Ejemplo GitHub Actions
name: Quality Pipeline
on: [push, pull_request]

jobs:
  code-quality:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Run linter
        run: npm run lint
      - name: Run tests
        run: npm run test
      - name: Security scan
        run: npm audit
      - name: License check
        run: npm run license-check
```

### Backup y Disaster Recovery

#### Estrategia de Backup
**Repositorios Cr√≠ticos:**
- Backup diario a m√∫ltiples ubicaciones geogr√°ficas
- Replicaci√≥n en tiempo real entre data centers
- Export semanal a formato archive
- Testing mensual de procesos de restore

**Retenci√≥n de Datos:**
- Backups incrementales: 30 d√≠as
- Backups completos: 1 a√±o
- Archive hist√≥rico: 7 a√±os para proyectos cr√≠ticos
- Tags y releases: permanente

#### Procedimientos de Recovery
**RTO (Recovery Time Objective):** 4 horas para repositorios cr√≠ticos
**RPO (Recovery Point Objective):** 1 hora m√°ximo de p√©rdida de datos

**Proceso de Restauraci√≥n:**
1. Identificaci√≥n del scope del problema
2. Selecci√≥n del backup point apropiado
3. Restauraci√≥n en entorno de testing
4. Validaci√≥n de integridad de datos
5. Migraci√≥n controlada a producci√≥n

### Auditor√≠a y Compliance

#### Logging y Monitoreo
**Eventos Auditados:**
- Todos los commits y push operations
- Creaci√≥n y eliminaci√≥n de branches
- Cambios en configuraci√≥n de repositorios
- Accesos y permisos modificados
- Downloads y clones de repositorios

**Retenci√≥n de Logs:**
- Actividad de desarrollo: 2 a√±os
- Cambios administrativos: 5 a√±os
- Incidentes de seguridad: 7 a√±os

#### Reportes de Compliance
**Reportes Autom√°ticos:**
- Actividad mensual por desarrollador
- Cumplimiento de pol√≠ticas de branching
- Estado de vulnerabilidades en dependencias
- M√©tricas de calidad de c√≥digo

**M√©tricas Clave:**
- N√∫mero de commits por proyecto/desarrollador
- Tiempo promedio de review de PRs
- Porcentaje de cobertura de tests
- N√∫mero de vulnerabilidades detectadas y resueltas

## üë• Roles y Responsabilidades

- **Development Manager:** Definir estrategias de branching y aprobar excepciones
- **Tech Leads:** Supervisar cumplimiento de convenciones y quality gates
- **Senior Developers:** Realizar code reviews y mentoring en mejores pr√°cticas
- **DevOps Engineers:** Mantener infraestructura de repositorios y CI/CD
- **Security Team:** Auditar repositorios y gestionar pol√≠ticas de seguridad
- **Developers:** Seguir convenciones y procedimientos establecidos

## üìä Cumplimiento y Medici√≥n

### M√©tricas de Calidad
- 100% de commits siguen convenciones de mensaje
- 95% de PRs aprobados en primera revisi√≥n
- 0 secrets detectados en c√≥digo fuente
- 90% de dependencias actualizadas en √∫ltimos 6 meses

### Indicadores de Productividad
- Tiempo promedio de merge de PRs: < 24 horas
- N√∫mero de conflictos de merge por sprint: < 5
- Cobertura de tests: > 80% para repositorios cr√≠ticos
- Tiempo de build de CI/CD: < 10 minutos

### Auditor√≠as y Verificaciones
- Revisi√≥n semanal de alertas de seguridad
- Auditor√≠a mensual de permisos de repositorios
- Evaluaci√≥n trimestral de cumplimiento de pol√≠ticas
- Auditor√≠a anual externa de procesos de desarrollo

## üö® Incumplimiento

### Violaciones de Seguridad
**Commit de Secrets:**
- Revert inmediato del commit
- Rotaci√≥n de credenciales expuestas
- Investigaci√≥n del alcance de exposici√≥n
- Capacitaci√≥n adicional obligatoria

### Incumplimiento de Procesos
**Bypass de Code Reviews:**
- Reversi√≥n de cambios no autorizados
- Revisi√≥n disciplinaria con supervisor
- Restricci√≥n temporal de permisos de push

**Mensajes de Commit Inadecuados:**
- Capacitaci√≥n en convenciones de commit
- Supervisi√≥n intensificada por 30 d√≠as
- Uso obligatorio de commit templates

## üìñ Referencias

- **Semantic Versioning 2.0.0** - https://semver.org/
- **Conventional Commits** - https://www.conventionalcommits.org/
- **GitFlow Workflow** - https://nvie.com/posts/a-successful-git-branching-model/
- **GitHub Flow** - https://docs.github.com/en/get-started/quickstart/github-flow
- **NIST SP 800-218** - Secure Software Development Framework
- Pol√≠tica de Desarrollo Seguro
- Est√°ndar de Codificaci√≥n Segura
